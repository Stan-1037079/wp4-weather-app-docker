{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stanv\\\\Desktop\\\\HR\\\\Software Development\\\\Afstuderen\\\\wp4-dockercompose\\\\wp4-weather-app\\\\react-app\\\\src\\\\WeatherForecast.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getRainChance(forecastItem) {\n  return forecastItem.rain ? forecastItem.pop * 100 : 0;\n}\nfunction getSnowChance(forecastItem) {\n  return forecastItem.snow ? forecastItem.pop * 100 : 0;\n}\nfunction WeatherForecast(props) {\n  _s();\n  const [forecast, setForecast] = useState([]);\n  useEffect(() => {\n    fetch(`http://localhost:5000/api/forecast?location=${props.location}`).then(response => response.json()).then(data => {\n      if (data.message === 'Location not found') return;\n      const forecastData = data;\n      const next3DaysForecast = filterNext3DaysForecast(forecastData.list);\n      setForecast(next3DaysForecast);\n    }).catch(error => {\n      console.error('Error fetching forecast data:', error);\n    });\n  }, [props.location]);\n  const filterNext3DaysForecast = forecastData => {\n    const currentDate = new Date();\n    currentDate.setHours(0, 0, 0, 0);\n    const next3Days = [];\n    const seenDays = new Set();\n    for (const forecastItem of forecastData) {\n      const forecastDate = new Date(forecastItem.dt * 1000);\n      if (forecastDate > currentDate && !seenDays.has(forecastDate.toDateString())) {\n        next3Days.push(forecastItem);\n        seenDays.add(forecastDate.toDateString());\n        if (next3Days.length === 3) {\n          break;\n        }\n      }\n    }\n    return next3Days;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontSize: '20px'\n      },\n      children: \"Weersvoorspelling voor de komende 3 dagen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: forecast.map(forecastItem => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '24px'\n          },\n          children: [\"Datum: \", new Date(forecastItem.dt * 1000).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '18px'\n          },\n          children: [\"Tijd: \", new Date(forecastItem.dt * 1000).toLocaleTimeString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '18px'\n          },\n          children: [\"Temperatuur: \", forecastItem.main.temp.toFixed(0), \"\\xB0C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '18px'\n          },\n          children: [\"Weer: \", forecastItem.weather[0].description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '18px'\n          },\n          children: [\"Kans op regen: \", getRainChance(forecastItem)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '18px'\n          },\n          children: [\"Kans op sneeuw: \", getSnowChance(forecastItem)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '18px'\n          },\n          children: [\"Max windsnelheid: \", forecastItem.wind.speed, \" km/h\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '18px'\n          },\n          children: [\"Fietsweer:\", forecastItem.main.temp >= props.minTemp && forecastItem.main.temp <= props.maxTemp && forecastItem.wind.speed <= props.maxWindSpeed && getRainChance(forecastItem) <= props.maxRainChance && getSnowChance(forecastItem) <= props.maxSnowChance ? ' Ja 🚲' : ' Nee ☂️']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, forecastItem.dt, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(WeatherForecast, \"Ydn6hUZqbmyQnL7JGFANHgW/va4=\");\n_c = WeatherForecast;\nexport default WeatherForecast;\nvar _c;\n$RefreshReg$(_c, \"WeatherForecast\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","getRainChance","forecastItem","rain","pop","getSnowChance","snow","WeatherForecast","props","_s","forecast","setForecast","fetch","location","then","response","json","data","message","forecastData","next3DaysForecast","filterNext3DaysForecast","list","catch","error","console","currentDate","Date","setHours","next3Days","seenDays","Set","forecastDate","dt","has","toDateString","push","add","length","children","style","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","map","toLocaleDateString","toLocaleTimeString","main","temp","toFixed","weather","description","wind","speed","minTemp","maxTemp","maxWindSpeed","maxRainChance","maxSnowChance","_c","$RefreshReg$"],"sources":["C:/Users/stanv/Desktop/HR/Software Development/Afstuderen/wp4-dockercompose/wp4-weather-app/react-app/src/WeatherForecast.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nfunction getRainChance(forecastItem) {\r\n  return forecastItem.rain ? forecastItem.pop*100 : 0;\r\n}\r\n\r\nfunction getSnowChance(forecastItem) {\r\n  return forecastItem.snow ? forecastItem.pop*100 : 0\r\n}\r\n\r\nfunction WeatherForecast(props) {\r\n  const [forecast, setForecast] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(`http://localhost:5000/api/forecast?location=${props.location}`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (data.message === 'Location not found') return;\r\n        const forecastData = data;\r\n\r\n        const next3DaysForecast = filterNext3DaysForecast(forecastData.list);\r\n        \r\n        setForecast(next3DaysForecast);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching forecast data:', error);\r\n      });\r\n  }, [props.location]);\r\n\r\n  const filterNext3DaysForecast = (forecastData) => {\r\n \r\n    const currentDate = new Date();\r\n    currentDate.setHours(0, 0, 0, 0); \r\n  \r\n    const next3Days = [];\r\n    const seenDays = new Set(); \r\n  \r\n    for (const forecastItem of forecastData) {\r\n      const forecastDate = new Date(forecastItem.dt * 1000);\r\n  \r\n      if (forecastDate > currentDate && !seenDays.has(forecastDate.toDateString())) {\r\n        next3Days.push(forecastItem);\r\n        seenDays.add(forecastDate.toDateString());\r\n  \r\n        if (next3Days.length === 3) {\r\n          break; \r\n        }\r\n      }\r\n    }\r\n  \r\n    return next3Days;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 style={{ fontSize: '20px' }}>Weersvoorspelling voor de komende 3 dagen</h2>\r\n      <ul>\r\n        {forecast.map(forecastItem => ( \r\n          \r\n          <li key={forecastItem.dt}>\r\n            <p style={{ fontSize: '24px' }}>Datum: {new Date(forecastItem.dt * 1000).toLocaleDateString()}</p>\r\n            <p style={{ fontSize: '18px' }}>Tijd: {new Date(forecastItem.dt * 1000).toLocaleTimeString()}</p>\r\n            <p style={{ fontSize: '18px' }}>Temperatuur: {forecastItem.main.temp.toFixed(0)}°C</p>\r\n            <p style={{ fontSize: '18px' }}>Weer: {forecastItem.weather[0].description}</p>\r\n            <p style={{ fontSize: '18px' }}>Kans op regen: {getRainChance(forecastItem)}</p>\r\n            <p style={{ fontSize: '18px' }}>Kans op sneeuw: {getSnowChance(forecastItem)}</p>\r\n            <p style={{ fontSize: '18px' }}>Max windsnelheid: {forecastItem.wind.speed} km/h</p>\r\n            <p style={{ fontSize: '18px' }}>Fietsweer: \r\n                {forecastItem.main.temp >=  props.minTemp &&\r\n                 forecastItem.main.temp <= props.maxTemp &&\r\n                  forecastItem.wind.speed <= props.maxWindSpeed &&\r\n                  getRainChance(forecastItem) <= props.maxRainChance &&\r\n                  getSnowChance(forecastItem) <= props.maxSnowChance\r\n                  ? ' Ja 🚲' : ' Nee ☂️'}</p>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WeatherForecast;\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}